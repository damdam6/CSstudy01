
1. [데이터베이스의 종류](#데이터베이스의-종류)
    - [관계형 데이터베이스](#관계형-데이터베이스rdbms)
    - [NoSQL 데이터베이스](#nosql-데이터베이스)
2. [인덱스](#인덱스)
    - [인덱스 최적화 기법](#인덱스-최적화-기법)
3. [조인의 종류](#조인의-종류)
    - [내부조인](#내부-조인inner-join)
    - [왼쪽조인](#왼쪽-조인left-outer-join)
    - [오늘쪽조인](#오른쪽-조인right-outer-join)
    - [합집합조인](#합집합-조인full-outer-join)
4. [조인의 원리](#조인의-원리)
    - [중첩 루프 조인](#중첩-루프-조인nlj-nested-loop-join)
    - [정렬 병합 조인](#정렬-병합-조인)
    - [해시 조인](#해시-조인)


# 데이터베이스의 종류

## 관계형 데이터베이스(RDBMS)

- 행과 열을 가지는 표 형식 데이터를 저장하는 형태의 데이터베이스.
- MySQL, PostgreSQL, 오라클, SQL Server, MSSQL 등

## NoSQL 데이터베이스

- NoSQL(Not only SQL)이라는 슬로건에서 생겨난 데이터베이스.
- SQL을 사용하지 않는 데이터베이스
- MongoDB, redis 등

# 인덱스

- B-트리 = 루트 노드 + 브랜치 노드 + 리프 노드
- 인덱스는 효율적인 단계를 거쳐 모든 요소에 접근할 수 있는 균형 잡힌 트리 구조와 트리 깊이의 대수확장성 때문에 효율적.
    - 대수확장성 : 트리 깊이가 리프 노드 수에 비해 매우 느리게 성장하는 것

## 인덱스 최적화 기법

(* MongoDB기반  인덱스 최적화 기법)

1. 인덱스는 비용이다
    - 인덱스 리스트 → 컬렉션 순으로 탐색하므로 인덱스는 두 번 탐색을 강요한다.
    - 컬렉션이 수정되었을 때 인덱스도 수정되어야 한다.
        - B-트리의 높이를 균형 있게 조절하는 비용 발생
        - 데이터를 효율적으로 조회할 수 있도록 분산시키는 비용 발생
2. 항상 테스팅하라
    - 인덱스 최적화 기법은 서비스 특징에 따라 다르므로 항상 테스팅 하는 것이 중요
        - 서비스에서 사용하는 객체의 깊이, 테이블의 양 등이 다르므로
3. 복합 인덱스는 같음, 정렬, 다중 값, 카디널리티 순이다.
    - 보통 여러 필드를 기반으로 조회를 할 때 복합 인덱스를 생성
    - 인덱스 생성 순서에 따라 인덱스의 성능이 달라진다
    - 같음 - 정렬 - 다중 값 - 카디널리티 순으로 생성

# 조인의 종류

- 조인(join) : 하나의 테이블이 아닌 두 개 이상의 테이블을 묶어서 하나의 결과물을 만드는 것

## 내부 조인(inner join)

- 왼쪽 테이블과 오른쪽 테이블의 두 행이 모두 일치하는 행이 있는 부분만 표기
- 두 테이블 간에 교집합

## 왼쪽 조인(left outer join)

- 왼쪽 테이블의 모든 행이 결과 테이블에 표기
- 오른쪽 테이블에 일치하는 항목이 없으면 해당 값은 null 값이 된다.

## 오른쪽 조인(right outer join)

- 오른쪽 테이블의 모든 행이 결과 테이블에 표기
- 왼쪽 테이블에 일치하는 항목이 없으면 해당 값은 null 값이 된다.

## 합집합 조인(full outer join)

- 두 개의 테이블을 기반으로 조인 조건에 반족하지 않는 행까지 모두 표기
- 일치하는 항목이 없으면 누락된 쪽에 은 null 값이 포함되어 출력된다.

# 조인의 원리

## 중첩 루프 조인(NLJ, Nested Loop Join)

- 중첩 for문과 같은 원리로 조건에 맞는 조인을 하는 방법
- 랜덤 접근에 대한 비용이 많이 증가하므로 대용량의 테이블에서는 사용하지 않음
- 블록 중첩 루프 조인(BNL, Block Nested Loop)
    
    : 조인할 테이블을 작은 블록으로 나눠서 블록 하나씩 조인하는 방식
    

## 정렬 병합 조인

- 각각의 테이블을 조인할 필드 기준으로 정렬하고 정렬이 끝난 이후에 조인 작업을 수행하는 조인
- 조인할 때 쓸 적절한 인덱스가 없고 대용량의 테이블들을 조인하고 조인 조건으로 <, >등 범위 비교 연산자가 있을 때 씁니다.

## 해시 조인

- 해시 테이블을 기반으로 조인하는 방법
- MySQL의 해시 조인 단계
    - 빌드 단계
        - 입력 테이블 중 하나를 기반으로 메모리 내 해시 테이블을 빌드하는 단계
        - 조인에 사용되는 필드가 해시 테이블의 키로 사용됨
    - 프로브 단계
        - 레코드 읽기를 시작하며 일치하는 레코드를 찾아서 결괏값으로 반환