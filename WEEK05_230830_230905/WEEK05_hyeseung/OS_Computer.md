
# 3. μ΄μμ²΄μ 

[μ΄μμ²΄μ μ μ—­ν• κ³Ό κµ¬μ΅°](#μ΄μμ²΄μ μ-μ—­ν• κ³Ό-κµ¬μ΅°)  
[μ»΄ν“¨ν„°μ μ”μ†](#μ»΄ν“¨ν„°μ-μ”μ†)

## μ΄μμ²΄μ μ μ—­ν• κ³Ό κµ¬μ΅°

### μ΄μμ²΄μ (OS)λ€?

: μ‚¬μ©μκ°€ μ»΄ν“¨ν„°λ¥Ό μ‰½κ² λ‹¤λ£¨κ² ν•΄μ£Όλ” μΈν„°νμ΄μ¤

- ν•μ •λ λ©”λ¨λ¦¬λ‚ μ‹μ¤ν… μμ›μ„ ν¨μ¨μ μΌλ΅ λ¶„λ°°
- ν•λ“μ›¨μ–΄μ™€ μ†ν”„νΈμ›¨μ–΄(μ μ € ν”„λ΅κ·Έλ¨)λ¥Ό κ΄€λ¦¬

*cf. νμ›¨μ–΄ : μ†ν”„νΈμ›¨μ–΄λ¥Ό μ¶”κ°€λ΅ μ„¤μΉν•  μ μ—†λ‹¤λ” μ μ—μ„ λ‹¤λ¥΄λ‹¤.*

### μ΄μμ²΄μ μ μ—­ν• 

ν¬κ² 4κ°€μ§€κ°€ μλ‹¤.

1. CPU μ¤μΌ€μ¤„λ§κ³Ό ν”„λ΅μ„Έμ¤ κ΄€λ¦¬
    1. CPUμ μ†μ κ¶μ„ μ–΄λ–¤ ν”„λ΅μ„Έμ¤μ— ν• λ‹Ήν• μ§€
    2. ν”„λ΅μ„Έμ¤μ μƒμ„±, μ‚­μ , μμ› ν• λ‹Ή λ° λ°ν™ κ΄€λ¦¬
2. λ©”λ¨λ¦¬ κ΄€λ¦¬ β†’ μ–΄λ–¤ ν”„λ΅μ„Έμ¤μ— λ©”λ¨λ¦¬λ¥Ό μ–Όλ§λ‚ ν• λ‹Ήν• μ§€
3. λ””μ¤ν¬ νμΌ κ΄€λ¦¬ β†’ μ–΄λ–¤ λ°©λ²•μΌλ΅ λ³΄κ΄€ν• μ§€
4. I/O λ””λ°”μ΄μ¤ κ΄€λ¦¬ β†’ λ§μ°μ¤, ν‚¤λ³΄λ“ λ“±κ³Ό μ»΄ν“¨ν„° κ°„ λ°μ΄ν„° μ£Όκ³  λ°›λ” κ²ƒμ„ κ΄€λ¦¬

### μ΄μμ²΄μ μ κµ¬μ΅°

![Alt text](image/01_fig1.jpeg)

- GUI κ°€ μ—†κ³  CUI λ§ μλ” λ¦¬λ…μ¤ μ„λ²„λ„ μλ‹¤.

<aside>
π’΅ GUI μ™€ CUI

λ‘ λ‹¤ μ‚¬μ©μκ°€ μ „μμ¥μΉμ™€ μƒνΈμ‘μ©ν•  μ μλ„λ΅ ν•λ” μ‚¬μ©μ μΈν„°νμ΄μ¤μ ν• ν•νƒ

μ „μλ” λ‹¨μ λ…λ Ήμ–΄ μ°½μ΄ μ•„λ‹, μ•„μ΄μ½μ„ λ§μ°μ¤λ΅ ν΄λ¦­ν•μ—¬ μƒνΈμ‘μ©ν•  μ μλ„λ΅ ν•λ‹¤.

ν›„μλ” κ·Έλν”½μ΄ μ•„λ‹ λ…λ Ήμ–΄λ΅ μ²λ¦¬ν•λ” μΈν„°νμ΄μ¤

</aside>

**λ“λΌμ΄λ²„**

: ν•λ“μ›¨μ–΄λ¥Ό μ μ–΄ν•κΈ° μ„ν• μ†ν”„νΈμ›¨μ–΄

**μ‹μ¤ν…μ½**

- μ΄μμ²΄μ κ°€ **μ»¤λ„μ— μ ‘κ·Ό**ν•κΈ° μ„ν• μΈν„°νμ΄μ¤
- μ μ € ν”„λ΅κ·Έλ¨μ΄ μ΄μμ²΄μ μ μ„λΉ„μ¤λ¥Ό λ°›κΈ° μ„ν•΄ μ»¤λ„ν•¨μλ¥Ό νΈμ¶ν•  λ• μ‚¬μ©

- μ μ € ν”„λ΅κ·Έλ¨μ΄ I/O μ”μ²­μΌλ΅ νΈλ©μ„ λ°λ™ν•λ” κ²½μ°, μ¬λ°”λ¥Έ μ”μ²­μΈμ§€ ν™•μΈν• ν›„ μ μ € λ¨λ“κ°€ μ‹μ¤ν…μ½μ„ ν†µν•΄ μ»¤λ„λ¨λ“λ΅ λ³€ν™ν•μ—¬ μ‹¤ν–‰
    - I/O μ”μ²­ : μ…μ¶λ ¥ ν•¨μ, λ°μ΄ν„°λ² μ΄μ¤, λ„¤νΈμ›ν¬, νμΌ μ ‘κ·Ό λ“±μ— κ΄€ν• μΌ
    - *e.g. `fs.readFile()` (νμΌ μ½λ” ν•¨μ, I/O μ”μ²­μ μΌμΆ…) λ°λ™ μ‹*

    <br>
    
    ![Alt text](image/01_fig2.jpeg)

    β†’ μ μ € λ¨λ“μ—μ„ νμΌ μ½μ§€ μ•κ³  μ»¤λ„ λ¨λ“μ—μ„ μ½κ³ , λ‹¤μ‹ μ μ € λ¨λ“λ΅ λμ•„κ°€ κ·Έ λ’¤μ λ΅μ§μ„ μν–‰ν•λ‹¤.
    
    β†’ μ¥μ ) μ»΄ν“¨ν„° μμ›μ— λ€ν• μ§μ ‘ μ ‘κ·Όμ„ μ°¨λ‹¨ν•  μ μκ³ , ν”„λ΅κ·Έλ¨μ„ λ³΄νΈν•  μ μλ‹¤.
    
- μ‹μ¤ν…μ½κ³Ό μ»¤λ„, μ΄μμ²΄μ 
    - ν”„λ΅μ„Έμ¤λ‚ μ¤λ λ“μ—μ„ μ΄μμ²΄μ λ΅ μ–΄λ– ν• μ”μ²­μ„ ν•  λ•, **μ‹μ¤ν…μ½μ΄λΌλ” μΈν„°νμ΄μ¤μ™€ μ»¤λ„**μ„ κ±°μ³ μ΄μμ²΄μ μ— μ „λ‹¬λλ‹¤.
    - μ‹μ¤ν…μ½μ€ ν•λ‚μ μ¶”μƒν™” κ³„μΈµ
        
        β†’ λ‚®μ€ λ‹¨κ³„μ μμ—­(λ„¤νΈμ›ν¬ ν†µμ‹ , λ°μ΄ν„°λ² μ΄μ¤ λ“±) μ²λ¦¬μ— λ€ν• λ¶€λ¶„μ„ μ‹ κ²½μ“°μ§€ μ•κ³  κµ¬ν„μ΄ κ°€λ¥
        
- modebit
    
    : μ μ €λ¨λ“μ™€ μ»¤λ„λ¨λ“λ¥Ό κµ¬λ¶„ν•λ” κΈ°μ¤€
    
    - 0 λλ” 1μ κ°’μ„ κ°€μ§€λ” flag λ³€μ
    - 0μ€ μ»¤λ„λ¨λ“, 1μ€ μ μ €λ¨λ“
    
    - I/O λ””λ°”μ΄μ¤(μΉ΄λ©”λΌ, ν‚¤λ³΄λ“ λ“±)λ” μ΄μμ²΄μ λ¥Ό ν†µν•΄ μ‘λ™ν•΄μ•Όλ§ ν•λ‹¤.
        - μ΄μμ²΄μ λ” μ»¤λ„λ¨λ“λ¥Ό κ±°μΉκΈ° λ•λ¬Έ
        - μ»¤λ„λ¨λ“κ°€ μ•„λ‹ μ μ €λ¨λ“μ—μ„ λ””λ°”μ΄μ¤κ°€ μ‘λ™ν•λ‹¤λ©΄, ν•΄ν‚Ή λ“±μ μ„ν—μ„± μμ
        
            ![Alt text](image/01_fig3.jpeg)
        
        - μ μ €λ¨λ“ : μ μ € μ ‘κ·Ό μμ—­ μ ν•μ 
        - μ»¤λ„λ¨λ“ : λ¨λ“  μ»΄ν“¨ν„° μμ›μ— μ ‘κ·Ό κ°€λ¥

**μ»¤λ„**

- μ΄μμ²΄μ μ ν•µμ‹¬ λ¶€λ¶„μ΄μ μ‹μ¤ν…μ½ μΈν„°νμ΄μ¤λ¥Ό μ κ³µ
- λ³΄μ•, λ©”λ¨λ¦¬, ν”„λ΅μ„Έμ¤, νμΌμ‹μ¤ν…, I/O λ””λ°”μ΄μ¤ λ° μ”μ²­κ΄€λ¦¬ λ“± μν–‰

## μ»΄ν“¨ν„°μ μ”μ†



CPU, DMA μ»¨νΈλ΅¤λ¬, λ©”λ¨λ¦¬, νƒ€μ΄λ¨Έ, λ””λ°”μ΄μ¤ μ»¨νΈλ΅¤λ¬ λ“±μΌλ΅ μ΄λ£¨μ–΄μ§

![Alt text](image/01_fig4.jpeg)

### CPU

Central Processing Unit

- μ‚°μ λ…Όλ¦¬μ—°μ‚°μ¥μΉ + μ μ–΄μ¥μΉ + λ μ§€μ¤ν„° λ΅ κµ¬μ„±λ μ»΄ν“¨ν„° μ¥μΉ
- μΈν„°λ½νΈμ— μν•΄ **λ‹¨μν λ©”λ¨λ¦¬μ— μ΅΄μ¬ν•λ” λ…λ Ήμ–΄λ¥Ό ν•΄μ„ν•μ—¬ μ‹¤ν–‰**
- μ΄μμ²΄μ (κ΄€λ¦¬μ)μ μ»¤λ„μ΄ ν”„λ΅κ·Έλ¨μ„ λ©”λ¨λ¦¬μ— μ¬λ ¤ ν”„λ΅μ„Έμ¤λ΅ λ§λ“¤λ©΄, CPU(μΌκΎΌ) μ΄ μ²λ¦¬

**μ μ–΄μ¥μΉ**

- ν”„λ΅μ„Έμ¤ μ΅°μ‘μ„ μ§€μ‹ν•λ” CPUμ λ¶€ν’
- μ…μ¶λ ¥ μ¥μΉκ°„ ν†µμ‹ μ„ μ μ–΄ν•κ³ , λ…λ Ήμ–΄λ¥Ό μ½κ³  ν•΄μ„ν•λ©°, λ°μ΄ν„° μ²λ¦¬λ¥Ό μ„ν• μμ„λ¥Ό κ²°μ •ν•λ‹¤.

**λ μ§€μ¤ν„°**

- CPU λ‚΄λ¶€μ λ§¤μ° λΉ λ¥Έ μ„μ‹ κΈ°μ–µ μ¥μΉ
    - CPU μ™€ μ§μ ‘ μ—°κ²°λμ–΄ μμ–΄ λ©”λ¨λ¦¬λ³΄λ‹¤ μ—°μ‚° μ†λ„ λ§¤μ° λΉ λ¦„
- CPUλ” μμ²΄μ μΌλ΅ λ°μ΄ν„°λ¥Ό μ €μ¥ν•  μ μ—†μ–΄ λ μ§€μ¤ν„°λ¥Ό ν†µν•΄ λ°μ΄ν„°λ¥Ό μ „λ‹¬ν•λ‹¤.

**μ‚°μ λ…Όλ¦¬μ—°μ‚°μ¥μΉ**

- μ‚¬μΉ™μ—°μ‚°κ³Ό κ°™μ€ λ‘ μ«μμ μ‚°μ μ—°μ‚°κ³Ό λ°°νƒ€μ  λ…Όλ¦¬ν•©, λ…Όλ¦¬κ³± κ°™μ€ λ…Όλ¦¬ μ—°μ‚°μ„ κ³„μ‚°ν•λ” λ””μ§€ν„Έ νλ΅
- μ—°μ‚°μ²λ¦¬λ°©μ‹
    1. μ μ–΄μ¥μΉκ°€ κ³„μ‚°ν•  κ°’μ„ λ©”λ¨λ¦¬ λ° λ μ§€μ¤ν„°μ— λ΅λ“
    2. μ μ–΄μ¥μΉκ°€ λ μ§€μ¤ν„°μ— μλ” κ°’μ„ κ³„μ‚°ν•λΌκ³  μ‚°μ λ…Όλ¦¬μ—°μ‚°μ¥μΉμ— λ…λ Ή
    3. κ³„μ‚°λ κ°’μ„ λ μ§€μ¤ν„°μ—μ„ λ©”λ¨λ¦¬λ΅ μ €μ¥ ??

**μΈν„°λ½νΈ**

- μ–΄λ–¤ μ‹ νΈκ°€ λ“¤μ–΄μ™”μ„ λ• CPUλ¥Ό μ κΉ μ •μ§€μ‹ν‚¤λ” κ²ƒ
    
    *e.g. IO λ””λ°”μ΄μ¤λ΅ μΈν• μΈν„°λ½νΈ, 0μΌλ΅ μ«μλ¥Ό λ‚λ„λ” λ“±μ μΈν„°λ½νΈ, ν”„λ΅μ„Έμ¤ μ¤λ¥*
    
- μΈν„°λ½νΈ λ°μƒ μ‹ μΈν„°λ½νΈ λ²΅ν„°(μΈν„°λ½νΈ ν•Έλ“¤λ¬ ν•¨μκ°€ μλ” κ³³)λ΅ κ°€μ„ μΈν„°λ½νΈ ν•Έλ“¤λ¬ ν•¨μ μ‹¤ν–‰
    - μΈν„°λ½νΈ ν•Έλ“¤λ¬ ν•¨μλ” μ»¤λ„ λ‚΄λ¶€μ IRQλ¥Ό ν†µν•΄ νΈμ¶λλ‹¤
    - `request_irq()` μ‚¬μ©ν•΄μ„ ν•¨μ λ“±λ΅μ΄ κ°€λ¥ν•λ‹¤.
- μΈν„°λ½νΈ κ°„ μ°μ„ μμ„ μ΅΄μ¬

- ν•λ“μ›¨μ–΄ μΈν„°λ½νΈ
    - IO λ””λ°”μ΄μ¤μ—μ„ λ°μƒν•λ” μΈν„°λ½νΈ
    - μΈν„°λ½νΈ λΌμΈμ΄ μ„¤κ³„λ μ΄ν›„ (??) μμ°¨μ μΈ μΈν„°λ½νΈ μ‹¤ν–‰μ„ μ¤‘μ§€ν•κ³ , μ΄μμ²΄μ μ— μ‹μ¤ν…μ½μ„ μ”μ²­ν•΄μ„ μ›ν•λ” λ””λ°”μ΄μ¤μ μ‘μ€ λ΅μ»¬ λ²„νΌμ— μ ‘κ·Όν•μ—¬ μΌμ„ μν–‰

- μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈ
    - = νΈλ©
    - ν”„λ΅μ„Έμ¤ μ¤λ¥ λ“±μΌλ΅ ν”„λ΅μ„Έμ¤κ°€ μ‹μ¤ν…μ½μ„ νΈμ¶ν•  λ• λ°λ™

### DMA μ»¨νΈλ΅¤λ¬

: IO λ””λ°”μ΄μ¤κ°€ λ©”λ¨λ¦¬μ— μ§μ ‘ μ ‘κ·Όν•  μ μλ„λ΅ ν•λ” ν•λ“μ›¨μ–΄ μ¥μΉ

- CPU λ¶€ν•λ¥Ό λ§‰κ³  μΌμ„ λ¶„λ‹΄ν•λ” μ—­ν• μ„ ν•λ‹¤.
- ν•λ‚μ μ‘μ—…μ„ λ‘μ΄ λ™μ‹μ— μν–‰ν•λ” κ²ƒμ„ λ°©μ§€ν•κΈ°λ„ ν•λ‹¤.

### λ©”λ¨λ¦¬

: μ „μνλ΅μ—μ„ λ°μ΄ν„°λ‚ μƒνƒ, λ…λ Ήμ–΄ λ“±μ„ κΈ°λ΅ν•λ” μ¥μΉ

- λ³΄ν†µ RAMμ„ μΌμ»¬μ–΄ λ©”λ¨λ¦¬λΌκ³  ν•λ‹¤.
    - +) CPUλ” κ³„μ‚°, λ©”λ¨λ¦¬λ” κΈ°μ–µ λ‹΄λ‹Ή
- λ©”λ¨λ¦¬κ°€ ν΄μλ΅ λ§μ€ μΌμ„ λ™μ‹μ— μν–‰ κ°€λ¥

### νƒ€μ΄λ¨Έ

- λ‡ μ΄ μ•μ—λ” μ‘μ—…μ΄ λλ‚μ•Ό ν•λ‹¤λ” κ²ƒμ„ μ •ν•λ‹¤.
- νΉμ • ν”„λ΅κ·Έλ¨μ— μ‹κ°„ μ ν•μ„ λ‹¤λ” μ—­ν•  μν–‰
- μ‹κ°„μ΄ λ§μ΄ κ±Έλ¦¬λ” ν”„λ΅κ·Έλ¨μ μ‘λ™μ— μ ν•μ„ κ±ΈκΈ° μ„ν•΄ μ΅΄μ¬

### λ””λ°”μ΄μ¤ μ»¨νΈλ΅¤λ¬

μ»΄ν“¨ν„°μ™€ μ—°κ²°λ IO λ””λ°”μ΄μ¤λ“¤μ μ‘μ€ CPU